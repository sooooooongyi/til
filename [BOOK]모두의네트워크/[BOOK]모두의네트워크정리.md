## 모델이 필요한 이유?

- 서로 다른 여러 컴퓨터들이 통신하기 위해선 같은 규칙을 가진 케이블, 커넥터등이 필요하다.
- ISO국제 표준화 기구에서 OSI 모델이라는 표준 규격을 제정하게 되었다.

## OSI 7계층과 TCP/IP 4계층

![스크린샷 2022-06-20 오후 11.47.17.png](https://s3-us-west-2.amazonaws.com/secure.notion-static.com/1e67ff91-349f-40cb-9238-e07f63814850/스크린샷_2022-06-20_오후_11.47.17.png)

### OSI 7계층별 주요 역할

| 응용 계층       | 이메일 & 파일 전송, 웹사이트 조회 등 애플리케이션에 대한 서비스를 제공한다. |
| --------------- | --------------------------------------------------------------------------- |
| 표현 계층       | 문자코드, 압축, 암호화 등의 데이터를 변환한다.                              |
| 세션 계층       | 세션 체결, 통신 방식을 결정한다.                                            |
| 전송 계층       | 신뢰할 수 있는 통신을 구현한다.                                             |
| 네트워크 계층   | 다른 네트워크와 통신하기 위한 경로 설정 및 논리 주소를 결정한다.            |
| 데이터링크 계층 | 네트워크 기기 간의 데이터 전송 및 물리 주소를 결정한다.                     |
| 물리 계층       | 시스템 간의 물리적인 연결과 전기 신호를 변환 및 제어한다.                   |

### TCP/IP 4계층별 주요 역할

| 응용 계층         | OSI 모델의 응용, 표현, 세션 계층       |
| ----------------- | -------------------------------------- |
| 전송 계층         | OSI 모델의 전송 계층                   |
| 인터넷 계층       | OSI 모델의 네트워크 계층               |
| 네트워크접속 계층 | OSI 모델의 데이터 링크 계층, 물리 계층 |

### 물리 계층

- 컴퓨터와 네트워크 장비를 연결하고 컴퓨터와 네트워크 장비 간에 전송되는 데이터를 전기 신호로 변환하는 계층
- 랜카드가 아날로그 신호를 전기 신호로 변환한다.

### 데이터링크 계층

- 네트워크 장비 간에 신호를 주고 받는 규칙을 정하는 계층
- 스위치

### 네트워크 계층

- 네트워크 간의 통신을 가능하게 하는 것이 네트워크 계층의 역할
- 라우터

### 전송 계층

- 목적지에 신뢰할 수 있는 데이터를 전달하기 위해 필요하다.
  - 오류 점검하는 기능 (핸드셰이크, 헤더)
  - 전송된 데이터의 목적지가 어떤 애플리케이션인지 식별하는 기능 (포트번호)
- TCP / UDP

### 응용 계층

- 사용자측의 요청을 전달하기 위해 통신 대상이 이해할 수 있는 메세지로 변환하고 전송 계층으로 전달하는 역할

## 네트워크 흐름 보기

![스크린샷 2022-06-21 오전 10.56.09.png](https://s3-us-west-2.amazonaws.com/secure.notion-static.com/aa450616-fbaa-4ae8-bf5b-bd472bd68531/스크린샷_2022-06-21_오전_10.56.09.png)

- [응용] 웹 브라우저에 URL 입력하고 Enter 누르기 → 캡슐화 (HTTP 프로토콜)
- [전송] TCP 헤더 + 데이터 = 세그먼트 → 포트 번호 설정
- [네트워크] IP 헤더 + 세그먼트 = IP 패킷 → 출발지 & 목적지 IP 주소
- [데이터링크] 이더넷 헤더 + IP 패킷 = 이더넷 프레임 → 출발지 & 목적지 MAC 주소
- [물리] 전송된 데이터를 전기 신호로 변환해 네트워크로 이동한다.

![스크린샷 2022-06-21 오전 10.56.09 복사본.png](https://s3-us-west-2.amazonaws.com/secure.notion-static.com/863a0846-4e4f-441d-8903-0c594c5c12b5/스크린샷_2022-06-21_오전_10.56.09_복사본.png)

- [데이터링크] 데이터를 전기 신호로 변환하여 라우터 A로 전송

![스크린샷 2022-06-21 오전 10.56.09 복사본 2.png](https://s3-us-west-2.amazonaws.com/secure.notion-static.com/4ddab537-cdf0-454e-8fc9-5ddd9be01757/스크린샷_2022-06-21_오전_10.56.09_복사본_2.png)

- [데이터링크] 이더넷 프레임의 목적지 MAC 주소와 자신의 주소를 비교
- [네트워크] 주소가 같다면 자신의 라우팅 테이블과 목적지 IP주소를 비교
  - 출발지 IP주소를 외부 IP주소로 변경
- [데이터링크] 이더넷 헤더와 트레일러를 붙여 물리계층으로 전송
- [물리] 라우터 B로 이동

![스크린샷 2022-06-21 오전 10.56.09 복사본 3.png](https://s3-us-west-2.amazonaws.com/secure.notion-static.com/06d7dbdd-eb9d-4ea4-b592-c909422ac8fc/스크린샷_2022-06-21_오전_10.56.09_복사본_3.png)

- [데이터링크] 이더넷 프레임의 목적지 MAC 주소와 자신의 주소를 비교
- [네트워크] 주소가 같다면 자신의 라우팅 테이블과 목적지 IP주소를 비교
  - 출발지 IP주소를 내부 IP주소로 변경
- [데이터링크] 이더넷 헤더와 트레일러를 붙여 물리계층으로 전송
- [물리] 스위치 B로 이동

![스크린샷 2022-06-21 오전 10.56.09 복사본 4.png](https://s3-us-west-2.amazonaws.com/secure.notion-static.com/f3f1a1a2-8e1e-4eec-9213-ed00bc279821/스크린샷_2022-06-21_오전_10.56.09_복사본_4.png)

- [데이터링크] 전기 신호를 처리하고 웹 서버로 전달

![스크린샷 2022-06-21 오전 10.56.09 복사본 5.png](https://s3-us-west-2.amazonaws.com/secure.notion-static.com/33193868-5349-482a-a3f6-253d3fcf3f31/스크린샷_2022-06-21_오전_10.56.09_복사본_5.png)

- [물리] 스위치 B로부터 전기 신호로 변환된 데이터가 전달
- [데이터링크] MAC 주소 비교 후 역캡슐화
- [네트워크] 목적지 IP와 웹 서버 IP가 같은지 확인 후 역캡슐화
- [전송] 목적지 포트 번호 확인 후 역캡슐화
- [응용] 데이터 도착
