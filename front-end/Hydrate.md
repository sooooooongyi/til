## NextJS Hydrate

> 사이드 프로젝트를 위해 NextJS 학습 중, 리액트와의 웹페이지 구성 원리가 궁금해졌다!

### NextJS는 리액트와 뭐가 다른가?

리액트는 CSR로 페이지를 구성한다. 즉, 최초 서버에게 요청을 할 때 빈 HTML와 자바스크립트 파일을 받아 클라이언트 단에서 화면을 렌더링한다.

하지만 NextJS는 클라이언트 요청에 의해 웹 페이지를 전달하기 전에 서버에서 Pre-Rendering을 한다. Pre-Rendering된 페이지는 자바스크립트적 요소는 없지만 CSR와 다르게 사용자에게 빈 화면을 보여주지 않아도된다.

### Hydrate

서버는 Pre-Rendering에 의해 미리 만들어진 HTML와 자바스크립트 파일을 클라이언트에 전송한다. 그 후 전송된 자바스크립트 코드들이 HTML DOM 요소 위에서 다시 한번 렌더링을 하면서 자기 위치를 찾아 매칭되고, 이 과정을 Hydrate라고 부른다.

### 그럼 서버에서 받은 HTML도 렌더링하고, 자바스크립트도 또 렌더링하나요..?

넵! 맞습니다. 하지만 사용자가 빈 화면을 보지 않아도 된다는 점, 자바스크립트가 빠진 가벼운 HTML은 로딩이 빠르다는 점 때문에 두번 렌더링의 단점을 보완할 수 있다. 게다가, 자바스크립트 코드를 렌더링할 때 렌더링된 HTML DOM에 속성을 매칭시키는 목적이기 때문에 실제 repaint 과정을 거치지않는다. (즉, 요소를 찾아 속성이나 이벤트 등을 매핑만 시킨다!)
